{% extends "base.html" %}

{% block title %}Payment | Empowr{% endblock %}

{% block content %}
<div class="checkout-page">
    <section class="checkout-items">
        <h1>PAYMENT</h1>

        <div style="text-align:left; margin-bottom:20px;">
            {% if customer %}
                <p>Logged in as<br>
                    <strong>{{ customer.first_name }} {{ customer.last_name }}</strong><br>
                    {{ customer.email }}
                </p>
            {% else %}
                <p><strong>Logged in as {{ request.user.username }}</strong></p>
            {% endif %}
        </div>

        <form method="post" class="form" id="payment-form" style="text-align:left;">
            {% csrf_token %}

            <!-- Delivery address -->
            <h3>Delivery address</h3>

            <div class="input-container">
                <input class="input-field" type="text" name="address1" placeholder="Address line 1">
                <label class="input-label">Address line 1</label>
                <span class="input-highlight"></span>
            </div>

            <div class="input-container">
                <input class="input-field" type="text" name="address2" placeholder="Address line 2 (optional)">
                <label class="input-label">Address line 2 (optional)</label>
                <span class="input-highlight"></span>
            </div>

            <div class="input-container">
                <input class="input-field" type="text" name="city" placeholder="Town / City">
                <label class="input-label">Town / City</label>
                <span class="input-highlight"></span>
            </div>

            <div class="input-container">
                <input class="input-field" type="text" name="postcode" placeholder="Postcode">
                <label class="input-label">Postcode</label>
                <span class="input-highlight"></span>
            </div>

            <!-- Payment details -->
            <h3>Card details</h3>

            <div class="input-container">
                <input class="input-field" type="text" name="card_name"
                       value="{% if customer %}{{ customer.first_name }} {{ customer.last_name }}{% endif %}">
                <label class="input-label">Name on card</label>
                <span class="input-highlight"></span>
            </div>

            <div class="input-container">
                <input class="input-field" type="text" name="card_number" maxlength="19" placeholder="Card number">
                <label class="input-label">Card number</label>
                <span class="input-highlight"></span>
            </div>

            <div class="input-container">
                <input class="input-field" type="text" name="expiry" placeholder="MM/YY">
                <label class="input-label">Expiry date</label>
                <span class="input-highlight"></span>
            </div>

            <div class="input-container">
                <input class="input-field" type="text" name="cvc" maxlength="4" placeholder="CVC">
                <label class="input-label">CVC</label>
                <span class="input-highlight"></span>
            </div>

        </form>
    </section>

    <aside class="checkout-summary">
    <h2>ORDER SUMMARY</h2>

    <div class="summary-row">
        <span>SUBTOTAL</span>
        <span>£{{ subtotal }}</span>
    </div>
    <div class="summary-row">
        <span>DELIVERY</span>
        <span>£{{ delivery }}</span>
    </div>
    <div class="summary-row summary-total">
        <span>TOTAL</span>
        <span>£{{ total }}</span>
    </div>

    <button class="btn-primary" type="submit" form="payment-form">
        PLACE ORDER
    </button>
</aside>

</div>
{% endblock %}
